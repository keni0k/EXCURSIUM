<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="description" content=""/>
    <meta name="title" content=""/>
    <meta name="author" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <meta name="keywords" content="excursium"/>

    <link rel="stylesheet" type="text/css" href="../resources/css/styles.css"/>
    <link rel="stylesheet" href="../resources/css/media.css"/>
    <link rel="stylesheet" type="text/css" href="../resources/css/footer.css"/>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="../resources/libs/bootstrap-select/css/bootstrap-select.css"/>
    <script type="text/javascript" src="../resources/libs/bootstrap-select/js/bootstrap-select.js"></script>

    <link rel="stylesheet" href="../resources/css/segoe_ui.css"/>

    <!-- Icon -->
    <link rel="icon" href="../resources/img/icon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="../resources/img/icon.ico" type="image/x-icon"/>

    <link rel="stylesheet" href="../resources/libs/bootstrapformhelpers/css/bootstrap-formhelpers.min.css"/>
    <script type="text/javascript"
            src="../resources/libs/bootstrapformhelpers/js/bootstrap-formhelpers.min.js"></script>
    <!-- Plugin CSS -->
    <link rel="stylesheet" href="../resources/css/cards.css"/>
    <title th:text="${#messages.msg('titles.account')}">Профиль</title>
</head>

<body style="background-color: #f9f9f9;">

<style type="text/css">

    .navbar-fixed-top {
        min-height: 95px;
    }

    .navbar-nav > li > a {
        font-family: SegoeUIRegular, serif;
        padding-top: 0;
        padding-bottom: 0;
        line-height: 95px;
    }

    .navbar-custom {
        background: linear-gradient(to left, #68b3bd, #00ae6f);
        color: #000000;
        border-radius: 0;
    }

    .navbar-custom .navbar-nav > li > a {
        color: #000000;
    }

    .navbar-custom .navbar-nav > .active > a {
        color: #000000;
        background-color: transparent;
    }

    .navbar-custom .navbar-nav > li > a:hover,
    .navbar-custom .navbar-nav > li > a:focus,
    .navbar-custom .navbar-nav > .active > a:hover,
    .navbar-custom .navbar-nav > .active > a:focus,
    .navbar-custom .navbar-nav > .open > a {
        text-decoration: none;
        background-color: #B2EBF2;
    }

    .navbar-custom .navbar-brand {
        color: #eeeeee;
    }

    .navbar-custom .navbar-toggle {
        background-color: #eeeeee;
    }

    .navbar-custom .icon-bar {
        background-color: #33aa33;
    }
</style>

<div class="content"
     th:with="isUser = ${#httpServletRequest.isUserInRole('USER')}, isAdmin = ${#httpServletRequest.isUserInRole('ADMIN')}, isThisUserAccount = ${true},
              excursovod = ${person.getType()>=2 or person.getType()==-2}"><!--TODO isThisUserAccount-->

    <nav class="navbar navbar-default navbar-custom" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a class="navbar-brand" href="/">
                    <img id="brand-image" alt="Website Logo" src="../resources/img/logo.png"/>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                <!-- Содержимое основной части -->
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/events/list" th:text="${#messages.msg('titles.excursions')}">Экскурсии</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li th:if="${isAdmin}"><a href="/users/moderation" th:text="${#messages.msg('titles.persons')}">Модерация
                        пользователей</a></li>
                    <li th:if="${isAdmin}"><a href="/events/moderation" th:text="${#messages.msg('titles.events')}">Модерация
                        экскурсий</a></li>
                    <li th:if="${isUser} or ${isAdmin}"><a href="/users/account"
                                                           th:text="${#messages.msg('titles.account')}">Профиль</a></li>
                    <li th:unless="${isUser}"><a href="/users/registration"
                                                 th:text="${#messages.msg('titles.registration')}">Регистрация</a></li>
                    <li th:unless="${isUser}"><a href="/users/login"
                                                 th:text="${#messages.msg('titles.login')}">Войти</a></li>
                    <li th:if="${isUser} or ${isAdmin}"><a href="/users/logout"
                                                           th:text="${#messages.msg('titles.logout')}">Выйти</a></li>
                </ul>

            </div><!-- navbar collapse end -->
        </div><!-- container-fluid end -->
    </nav>

    <div class="container">

        <!--Main layout-->
        <main>
            <div class="container-fluid">

                <!--Section: Profile-->
                <section>

                    <!--Grid row-->
                    <div class="row">

                        <!--Grid column-->
                        <div class="col-lg-4 col-md-12">

                            <!--Section: Basic Info-->
                            <section class="card card-cascade card-avatar mb-4">

                                <img th:src="${person.getImageUrl()}" src="../resources/img/user.png" alt=""/>

                                <!--Card content-->
                                <div class="card-body">
                                    <!--Title-->
                                    <h4 class="card-title"><strong th:text="${person.getFullName()}">Имя</strong></h4>
                                    <h5 th:text="${person.getStringType(0)}">Турист/Экскурсовод</h5>
                                    <p th:text="${person.getCity()}">Москва, Россия</p>

                                    <!-- Social -->
                                    <a type="button"
                                       class="btn-floating btn-small light-blue lighten-2 waves-effect waves-light"><i
                                            class="fa fa-facebook"></i></a>
                                    <a type="button"
                                       class="btn-floating btn-small light-blue lighten-2 waves-effect waves-light"><i
                                            class="fa fa-twitter"></i></a>
                                    <a type="button"
                                       class="btn-floating btn-small light-blue lighten-2 waves-effect waves-light"><i
                                            class="fa fa-linkedin"></i></a>

                                    <!--Text-->
                                    <p class="card-text mt-3">тел.
                                        <th:block th:text="${person.getPhoneNumber()}"/>
                                    </p>

                                    <button th:unless="${isThisUserAccount}" type="button"
                                            class="btn btn-info waves-effect waves-light"
                                            data-toggle="modal" data-target="#modalContactUser">Связаться<i
                                            class="fa fa-paper-plane ml-2"></i></button>

                                    <button th:if="${person.getType()==-3}" type="button"
                                            class="btn btn-primary mt-4 waves-effect waves-light">
                                        <th:block th:text="${#messages.msg('titles.add_event')+' '}">Подтвердить
                                            E-mail
                                        </th:block>
                                    </button>

                                    <a th:if="${(person.getType()==1 or person.getType()==-1) and person.getType()!=-3}"
                                       class="btn btn-primary waves-effect waves-light"
                                       href="#" role="button"
                                       data-toggle="modal" data-target="#modalEditProfile">Стать экскурсоводом</a>

                                    <a th:if="${isThisUserAccount}" class="btn btn-primary waves-effect waves-light"
                                       href="#" role="button"
                                       data-toggle="modal" data-target="#modalEditProfile">Редактировать профиль <i
                                            class="fa fa-pencil ml-2"></i></a>

                                    <a class="btn btn-outline-primary waves-effect waves-light" href="#" role="button"
                                       data-toggle="modal" data-target="#modalFeedback">Сообщить об ошибке <i
                                            class="fa fa-paper-plane ml-2"></i></a>
                                </div>

                            </section>
                            <!--Section: Basic Info-->

                            <!--Section: Experience-->
                            <!--<section class="card mb-4">
                                <div class="card-body">

                                    <h5 class=" text-center"><strong>Уведомления</strong></h5>

                                    <hr class="my-3"/>

                                    <ul class="list-unstyled pt-4">
                                        <li>
                                            <p>Questions <span class="badge badge-primary pull-right">14</span></p>
                                        </li>
                                        <hr/>
                                        <li>
                                            <p>Answers <span class="badge badge-primary pull-right">14</span></p>
                                        </li>
                                        <hr/>
                                        <li>
                                            <p>Submited projects <span class="badge badge-primary pull-right">14</span>
                                            </p>
                                        </li>
                                        <hr/>
                                        <li>
                                            <p>Pull requests <span class="badge badge-primary pull-right">14</span></p>
                                        </li>
                                        <hr/>
                                        <li>
                                            <p>Ideas &amp; bug reports <span
                                                    class="badge badge-primary pull-right">14</span></p>
                                        </li>
                                    </ul>

                                </div>
                            </section>-->
                            <!--Section: Experience-->

                        </div>
                        <!--Grid column-->

                        <!--Grid column-->
                        <div class="col-lg-8 col-md-12 text-center">

                            <!-- Heading -->
                            <div class="text-center mt-3 mb-5" th:if="${excursovod}">

                                <h2 class="title text-center" th:if="${events.size()>0}"
                                    th:text="${#messages.msg('titles.excursions')}">Добавленные экскурсии</h2>
                                <h2 class="title text-center" th:if="${events.size()==0 and excursovod}">Здесь будут
                                    отображаться добавленные вами экскурсии</h2> <!--TODO: translate-->

                                <button th:if="${isThisUserAccount and excursovod}" type="button"
                                        class="btn btn-primary mt-4 waves-effect waves-light"
                                        data-toggle="modal" data-target="#modalSubmitProject">
                                    <th:block th:text="${#messages.msg('titles.add_event')+' '}">Добавить новую
                                        экскурсию
                                    </th:block>
                                    <i class="fa fa-photo ml-1"></i>
                                </button>

                            </div>
                            <!-- Heading -->

                            <!-- Card row -->
                            <th:block th:if="${events.size()!=0 and excursovod}">
                                <div class="card-deck" th:each="i : ${#numbers.sequence( 0, events.size()-1)}">

                                    <th:block th:if="${i%2==0}" th:with="inc=${i!=events.size()-1?1:0}">
                                        <!--Card-->
                                        <div class="card card-cascade narrower mb-5"
                                             th:each="j : ${#numbers.sequence(i,i+inc)}"
                                             th:with="event = ${events.get(j)}">

                                            <!--Card image-->
                                            <div class="view overlay hm-white-slight">
                                                <img th:src="${event.pathToPhoto}" src="#" class="img-fluid" alt=""/>
                                                <a href="#">
                                                    <div class="mask waves-effect waves-light"></div>
                                                </a>
                                            </div>

                                            <!--Card content-->
                                            <div class="card-body pb-0">
                                                <!--Title-->
                                                <h4 class="card-title" th:text="${event.getName()}">Название
                                                    экскурсии</h4>
                                                <!--Text-->
                                                <p class="card-text" th:text="${event.getSmallDescription()}">
                                                    Описание</p>
                                            </div>

                                            <!--Card footer-->
                                            <div class="card-footer links-light">
                                        <span class="left pt-2">
                                            <a><i class="fa fa-share-alt mr-2"></i></a>
                                            <a><i class="fa fa-heart-o mr-2 disabled"></i>10</a>
                                        </span>
                                                <span class="right">
                                            <a th:href="@{/events/event(id=${event.getId()})}" class="waves-effect p-2">Открыть<i
                                                    class="fa fa-photo ml-1"></i></a>
                                        </span>
                                            </div>

                                        </div>
                                        <!--/.Card-->

                                        <!--Card-->
                                        <!--<div class="card card-cascade narrower d-flex mb-5">

                                            &lt;!&ndash;Card image&ndash;&gt;
                                            <div class="view overlay hm-white-slight">
                                                <img src="#" class="img-fluid" alt=""/>
                                                <a href="#">
                                                    <div class="mask waves-effect waves-light"></div>
                                                </a>
                                            </div>

                                            &lt;!&ndash;Card content&ndash;&gt;
                                            <div class="card-body">
                                                &lt;!&ndash;Title&ndash;&gt;
                                                <h4 class="card-title">Название экскурсии</h4>
                                                &lt;!&ndash;Text&ndash;&gt;
                                                <p class="card-text">Описание
                                                </p>
                                            </div>

                                            &lt;!&ndash;Card footer&ndash;&gt;
                                            <div class="card-footer links-light">
                                            <span class="left pt-2">
                                                <a><i class="fa fa-share-alt mr-2"></i></a>
                                                <a><i class="fa fa-heart-o mr-2"></i>10</a>
                                            </span>
                                                <span class="right">
                                                <a href="#" class="waves-effect p-2">Live Preview <i
                                                        class="fa fa-photo ml-1"></i></a>
                                            </span>
                                            </div>

                                        </div>-->
                                        <!--/.Card-->
                                    </th:block>

                                </div>
                            </th:block>
                            <!-- Card row -->


                            <!--Pagination -->
                            <nav class="my-4 d-flex justify-content-center" th:if="${events.size()>2 and excursovod}">
                                <ul class="pagination pagination-circle pg-blue mb-0">

                                    <!--First-->
                                    <li class="page-item disabled clearfix d-none d-md-block"><a
                                            class="page-link waves-effect waves-effect">В начало</a></li>

                                    <!--Arrow left-->
                                    <li class="page-item disabled">
                                        <a class="page-link waves-effect waves-effect" aria-label="Назад">
                                            <span aria-hidden="true">«</span>
                                            <span class="sr-only">Назад</span>
                                        </a>
                                    </li>

                                    <!--Numbers-->
                                    <li class="page-item active"><a class="page-link waves-effect waves-effect">1</a>
                                    </li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">2</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">3</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">4</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">5</a></li>

                                    <!--Arrow right-->
                                    <li class="page-item">
                                        <a class="page-link waves-effect waves-effect" aria-label="Вперёд">
                                            <span aria-hidden="true">»</span>
                                            <span class="sr-only">Вперёд</span>
                                        </a>
                                    </li>

                                    <!--First-->
                                    <li class="page-item clearfix d-none d-md-block"><a
                                            class="page-link waves-effect waves-effect">В конец</a></li>

                                </ul>
                            </nav>
                            <!--/Pagination -->


                            <!-- Heading -->
                            <div class="text-center mt-3 mb-5">

                                <h2 class="title text-center" th:if="${orders.size()>0}"
                                    th:text="${#messages.msg('titles.excursions')}">Посещенные экскурсии</h2>
                                <h2 class="title text-center" th:if="${orders.size()==0}">Здесь будут отображаться
                                    посещенные вами экскурсии</h2> <!--TODO: translate-->

                                <a href="/events/list">
                                    <button th:if="${isThisUserAccount}" type="button"
                                            class="btn btn-primary mt-4 waves-effect waves-light">
                                        <th:block th:text="${#messages.msg('account.select_event')+' '}">Выбрать
                                            экскурсию
                                        </th:block>
                                        <i class="fa fa-photo ml-1"></i>
                                    </button>
                                </a>
                            </div>
                            <!-- Heading -->

                            <!-- Card row -->
                            <th:block th:if="${orders.size()!=0}">
                                <div class="card-deck" th:each="i : ${#numbers.sequence( 0, orders.size()-1)}">

                                    <th:block th:if="${i%2==0}" th:with="inc = ${i!=orders.size()-1?1:0}">
                                        <!--Card-->
                                        <div class="card card-cascade narrower mb-5"
                                             th:each="j : ${#numbers.sequence(i,i+inc)}"
                                             th:with="order=${orders.get(j)}">

                                            <!--Card image-->
                                            <div class="view overlay hm-white-slight">
                                                <img th:src="${order.getImageUrl()}" src="#" class="img-fluid" alt=""/>
                                                <a href="#">
                                                    <div class="mask waves-effect waves-light"></div>
                                                </a>
                                            </div>

                                            <!--Card content-->
                                            <div class="card-body pb-0">
                                                <!--Title-->
                                                <h4 class="card-title" th:text="${order.getName()}">Название
                                                    экскурсии</h4>
                                                <!--Text-->
                                                <p class="card-text" th:text="${order.getSmallDescription()}">
                                                    Описание</p>
                                                <p class="card-text" style="font-size: small;" align="left"
                                                   th:text="${order.getTime()}">
                                                    Время</p>
                                            </div>

                                            <!--Card footer-->
                                            <div class="card-footer links-light">
                                        <span class="left pt-2">
                                            <strong th:text="${order.getPrice()}+'&#8381;  '"
                                                    style="color:#4285F4; font-size: medium; padding-top: -0.2em;">%Цена%  </strong>
                                            <a><i class="fa fa-share-alt mr-2"></i></a>
                                            <a><i class="fa fa-heart-o mr-2"></i>10</a>
                                        </span>
                                                <span class="right">
                                            <a th:href="@{/orders/order(id=${order.getId()})}" class="waves-effect p-2">Открыть<i
                                                    class="fa fa-photo ml-1"></i></a>
                                        </span>
                                            </div>

                                        </div>
                                        <!--/.Card-->
                                    </th:block>

                                </div>
                            </th:block>
                            <!-- Card row -->


                            <!--Pagination -->
                            <nav class="my-4 d-flex justify-content-center" th:if="${orders.size()>2}">
                                <ul class="pagination pagination-circle pg-blue mb-0">

                                    <!--First-->
                                    <li class="page-item disabled clearfix d-none d-md-block"><a
                                            class="page-link waves-effect waves-effect">В начало</a></li>

                                    <!--Arrow left-->
                                    <li class="page-item disabled">
                                        <a class="page-link waves-effect waves-effect" aria-label="Назад">
                                            <span aria-hidden="true">«</span>
                                            <span class="sr-only">Назад</span>
                                        </a>
                                    </li>

                                    <!--Numbers-->
                                    <li class="page-item active"><a class="page-link waves-effect waves-effect">1</a>
                                    </li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">2</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">3</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">4</a></li>
                                    <li class="page-item"><a class="page-link waves-effect waves-effect">5</a></li>

                                    <!--Arrow right-->
                                    <li class="page-item">
                                        <a class="page-link waves-effect waves-effect" aria-label="Вперёд">
                                            <span aria-hidden="true">»</span>
                                            <span class="sr-only">Вперёд</span>
                                        </a>
                                    </li>

                                    <!--First-->
                                    <li class="page-item clearfix d-none d-md-block"><a
                                            class="page-link waves-effect waves-effect">В конец</a></li>

                                </ul>
                            </nav>
                            <!--/Pagination -->


                        </div>
                        <!--Grid column-->

                    </div>
                    <!--Grid row-->

                </section>
                <!--Section: Profile-->

                <!--Section: Modals-->
                <section>

                    <!--Modal: modalEditProfile-->
                    <div class="modal fade" id="modalEditProfile" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog cascading-modal modal-lg" role="document">
                            <!--Content-->
                            <div class="modal-content">

                                <!--Modal cascading tabs-->
                                <div class="modal-c-tabs">

                                    <!-- Nav tabs -->
                                    <ul class="nav nav-tabs tabs-2 light-blue darken-3" role="tablist">
                                        <li class="nav-item waves-effect waves-light">
                                            <a class="nav-link active" data-toggle="tab"
                                               th:text="${#messages.msg('words.public_info')}"
                                               href="https://mdbootstrap.com/previews/templates/admin-dashboard/html/profile/extended.html#panel77"
                                               role="tab" aria-expanded="true"><i class="fa fa-user mr-1"></i> Public
                                                info</a>
                                        </li>
                                        <li class="nav-item waves-effect waves-light">
                                            <a class="nav-link" data-toggle="tab"
                                               href="https://mdbootstrap.com/previews/templates/admin-dashboard/html/profile/extended.html#panel88"
                                               th:text="${#messages.msg('words.private_info')}"
                                               role="tab" aria-expanded="false"><i class="fa fa-lock mr-1"></i> Account</a>
                                        </li>
                                    </ul>

                                    <!-- Tab panels -->
                                    <div class="tab-content">
                                        <!--Panel 7-->
                                        <div class="tab-pane fade in active" id="panel77" role="tabpanel"
                                             aria-expanded="true">
                                            <!--Body-->
                                            <div class="modal-body mb-1">
                                                <form th:object="${person}" action="/users/edit_public"
                                                      enctype="multipart/form-data" method="post">

                                                    <!--Grid row-->
                                                    <div class="row">

                                                        <!--Grid column-->
                                                        <div class="col-md-6">

                                                            <!--First Name-->
                                                            <div class="md-form form-sm">
                                                                <input type="text" id="editProfile1"
                                                                       class="form-control" name="first_name"
                                                                       th:value="${person.getFirstName()}"/>
                                                                <label for="editProfile1" class=""
                                                                       th:text="${#messages.msg('words.first_name')}">First
                                                                    name</label>
                                                            </div>

                                                        </div>
                                                        <!--Grid column-->

                                                        <!--Grid column-->
                                                        <div class="col-md-6">

                                                            <!--Last Name-->
                                                            <div class="md-form form-sm">
                                                                <input type="text" id="editProfile2"
                                                                       class="form-control" name="last_name"
                                                                       th:value="${person.getLastName()}"/>
                                                                <label for="editProfile2" class=""
                                                                       th:text="${#messages.msg('words.last_name')}">Last
                                                                    name</label>
                                                            </div>

                                                        </div>
                                                        <!--Grid column-->

                                                        <!--Grid column-->
                                                        <div class="col-md-12">

                                                            <!--Company website-->
                                                            <div class="md-form form-sm">
                                                                <textarea type="text" id="editProfile5" name="about_me"
                                                                          class="md-textarea"
                                                                          th:text="${person.getAbout()}"></textarea>
                                                                <label for="editProfile5" class=""
                                                                       th:text="${#messages.msg('words.about_me')}">About
                                                                    me</label>
                                                            </div>

                                                        </div>
                                                        <!--Grid column-->
                                                        <div class="col-md-12">
                                                            <div class="md-form form-sm">
                                                                <input name="file" type="file" id="filePerson"
                                                                       class="form-control"
                                                                       size="30000000"
                                                                       accept="image/jpeg,image/png"
                                                                       aria-label="Фотографии"/>
                                                                <label for="filePerson" class=""
                                                                       th:text="${#messages.msg('words.new_photo')}">Новая
                                                                    фотография</label>
                                                            </div>
                                                        </div>

                                                        <!--Grid column-->
                                                        <div class="col-md-12">

                                                            <!--City-->
                                                            <div class="md-form form-sm">
                                                                <input type="text" id="editProfile6" name="city"
                                                                       class="form-control"
                                                                       th:value="${person.getCity()}"/>
                                                                <label for="editProfile6" class=""
                                                                       th:text="${#messages.msg('words.city')}">City</label>
                                                            </div>

                                                        </div>

                                                        <!--Grid column-->
                                                        <div class="col-md-6">

                                                            <!--Facebook-->
                                                            <div class="md-form form-sm mt-2">
                                                                <input type="text" id="editProfile8"
                                                                       class="form-control"/>
                                                                <label for="editProfile8" class="">VK</label>
                                                            </div>

                                                        </div>
                                                        <!--Grid column-->

                                                        <!--Grid column-->
                                                        <div class="col-md-6">

                                                            <!--LinkedIn-->
                                                            <div class="md-form form-sm mt-2">
                                                                <input type="text" id="editProfile10"
                                                                       class="form-control"/>
                                                                <label for="editProfile10" class="">Telegram</label>
                                                            </div>

                                                        </div>
                                                        <!--Grid column-->

                                                    </div>
                                                    <div class="modal-footer justify-content-center">
                                                        <button type="reset"
                                                                class="btn btn-outline-primary waves-effect waves-light"
                                                                data-dismiss="modal">Закрыть
                                                        </button>
                                                        <button type="submit"
                                                                class="btn btn-primary waves-effect waves-light">
                                                            Сохранить изменения <i class="fa fa-check ml-1"></i>
                                                        </button>
                                                    </div>
                                                    <!--Grid row-->
                                                </form>
                                            </div>

                                        </div>
                                        <!--/.Panel 7-->

                                        <!--Panel 8-->
                                        <div class="tab-pane fade" id="panel88" role="tabpanel" aria-expanded="false">

                                            <!--Body-->
                                            <div class="modal-body">

                                                <form th:object="${person}" action="/users/edit_private" method="post"
                                                      autocomplete="off">

                                                    <div class="md-form form-sm">
                                                        <input type="email" id="form24" name="email"
                                                               class="form-control" th:value="${person.getEmail()}"/>
                                                        <label for="form24">Email</label>
                                                    </div>

                                                    <p class="h5 text-center mt-5">Смена пароля</p>

                                                    <div class="md-form form-sm">
                                                        <input type="password" name="last_pass" id="form25"
                                                               class="form-control"/>
                                                        <label for="form25">Текущий пароль</label>
                                                    </div>

                                                    <div class="md-form form-sm">
                                                        <input type="password" name="pass" id="form26"
                                                               class="form-control"/>
                                                        <label for="form26">Новый пароль</label>
                                                    </div>

                                                    <div class="md-form form-sm">
                                                        <input type="password" name="pass_confirm" id="form27"
                                                               class="form-control"/>
                                                        <label for="form27">Подтвердите пароль</label>
                                                    </div>

                                                    <div class="modal-footer justify-content-center">
                                                        <button type="reset"
                                                                class="btn btn-outline-primary waves-effect waves-light"
                                                                data-dismiss="modal">Закрыть
                                                        </button>
                                                        <button type="submit"
                                                                class="btn btn-primary waves-effect waves-light">
                                                            Сохранить изменения <i class="fa fa-check ml-1"></i>
                                                        </button>
                                                    </div>

                                                </form>

                                            </div>

                                        </div>
                                        <!--/.Panel 8-->
                                    </div>

                                </div>
                            </div>
                            <!--/.Content-->
                        </div>
                    </div>
                    <!--Modal: modalEditProfile-->

                    <!--Modal: modalFeedback-->
                    <div class="modal fade" id="modalFeedback" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog cascading-modal modal-lg" role="document">

                            <!--Content-->
                            <div class="modal-content">

                                <!--Header-->
                                <div class="modal-header light-blue darken-3 white-text">
                                    <h4 class=""><i class="fa fa-newspaper-o"></i> Новое сообщение</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                </div>

                                <!--Body-->
                                <div class="modal-body mb-0">

                                    <!--Subject-->
                                    <div class="md-form form-sm">
                                        <input type="text" id="modalFeedback1" class="form-control"/>
                                        <label for="modalFeedback1" class="">Subject</label>
                                    </div>

                                    <!--Topic-->
                                    <select class="mdb-select colorful-select dropdown-primary">
                                        <option value="" disabled="" selected="">Choose category</option>
                                        <option value="1">Idea</option>
                                        <option value="2">Feedback</option>
                                        <option value="3">Bug</option>
                                    </select>

                                    <!--Message-->
                                    <div class="md-form">
                                        <textarea type="text" id="modalFeedback2" class="md-textarea"
                                                  style="height: 300px;"></textarea>
                                        <label for="modalFeedback2">Your message</label>
                                    </div>

                                </div>

                                <!--Footer-->
                                <div class="modal-footer justify-content-center">
                                    <button type="button" class="btn btn-outline-primary waves-effect waves-light"
                                            data-dismiss="modal">Закрыть
                                    </button>
                                    <button type="button" class="btn btn-primary waves-effect waves-light">Send <i
                                            class="fa fa-paper-plane ml-1"></i></button>
                                </div>

                            </div>
                            <!--/.Content-->

                        </div>
                    </div>
                    <!--Modal: modalFeedback-->

                    <!--Modal: modalAchievment-->
                    <div class="modal fade" id="modalAchievment" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog cascading-modal" role="document">

                            <!--Content-->
                            <div class="modal-content">

                                <!--Header-->
                                <div class="modal-header light-blue darken-3 white-text">
                                    <h4 class=""><i class="fa fa-newspaper-o"></i> Bootstrap Master</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                </div>

                                <!--Body-->
                                <div class="modal-body mb-0">

                                    <p>текст</p>

                                </div>

                                <!--Footer-->
                                <div class="modal-footer justify-content-center">
                                    <button type="button" class="btn btn-outline-primary waves-effect waves-light"
                                            data-dismiss="modal">Закрыть
                                    </button>
                                    <button type="button" class="btn btn-primary waves-effect waves-light">Go to <i
                                            class="fa fa-arrow-right ml-1"></i></button>
                                </div>

                            </div>
                            <!--/.Content-->

                        </div>
                    </div>
                    <!--Modal: modalAchievment-->

                    <!--Modal: modalContactUser -->
                    <div class="modal fade" id="modalContactUser" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog cascading-modal modal-lg" role="document">

                            <!--Content-->
                            <div class="modal-content">

                                <!--Header-->
                                <div class="modal-header light-blue darken-3 white-text">
                                    <h4 class=""><i class="fa fa-envelope-o"></i> Новое сообщение</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                </div>

                                <!--Body-->
                                <div class="modal-body mb-0">

                                    <!--Basic textarea-->
                                    <div class="md-form">
                                        <textarea type="text" id="modalContactUser1" class="md-textarea"
                                                  style="height: 400px;"></textarea>
                                        <label for="modalContactUser1">Your message</label>
                                    </div>

                                </div>

                                <!--Footer-->
                                <div class="modal-footer justify-content-center">
                                    <button type="button" class="btn btn-outline-primary waves-effect waves-light"
                                            data-dismiss="modal">Отмена
                                    </button>
                                    <button type="button" class="btn btn-primary waves-effect waves-light">Отправить <i
                                            class="fa fa-paper-plane ml-1"></i></button>
                                </div>

                            </div>
                            <!--/.Content-->

                        </div>
                    </div>
                    <!--Modal: modalContactUser-->

                    <!--Modal: modalSubmitProject-->
                    <div class="modal fade" id="modalSubmitProject" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog cascading-modal" role="document">

                            <!--Content-->
                            <div class="modal-content">

                                <!--Header-->
                                <div class="modal-header light-blue darken-3 white-text">
                                    <h4 class=""><i class="fa fa-newspaper-o"></i> Добавить новую экскурсию</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                </div>

                                <!--Body-->
                                <div class="modal-body mb-0">
                                    <form th:object="${inputEvent}" action="/events/add" enctype="multipart/form-data"
                                          autocomplete="off" method="post">

                                        <!--Name-->
                                        <div class="md-form form-sm">
                                            <input name="name" type="text" class="form-control" id="name"
                                                   th:value="${inputEvent.getName()}" required="" minlength="10"
                                                   maxlength="60"/>
                                            <label for="name" th:if="${#fields.hasErrors('name')}"
                                                   th:text="${#messages.msg('error.event.name')}" th:class="'error'">Name
                                                Error</label>
                                            <label for="name" class=""
                                                   th:text="${#messages.msg('words.name')}">Название</label>
                                        </div>

                                        <!--Project URL address-->
                                        <div class="md-form">
                                            <textarea name="description" minlength="150" maxlength="1000" type="text"
                                                      id="description"
                                                      class="md-textarea" required=""
                                                      th:text="${inputEvent.getDescription()}"></textarea>
                                            <label for="description" th:if="${#fields.hasErrors('description')}"
                                                   th:text="${#messages.msg('error.event.description')}"
                                                   th:class="'error'">Description
                                                Error</label>
                                            <label for="description" class=""
                                                   th:text="${#messages.msg('words.description')}">Описание</label>
                                        </div>

                                        <!--Image URL-->
                                        <div class="md-form">
                                            <div class="panel-heading"
                                                 th:text="${#messages.msg('words.type_of_excursion')}">
                                                Тип экскурсии
                                            </div>
                                            <div class="panel-body">
                                                <div class="input-group">
                                                    <select name="category" id="category"
                                                            class="form-control selectpicker"
                                                            th:selected="${inputEvent.getCategory()}?${inputEvent.getCategory()}:0">
                                                        <option value="0" th:text="${#messages.msg('category.0')}">
                                                            Развлечения
                                                        </option>
                                                        <option value="1" th:text="${#messages.msg('category.1')}">
                                                            Наука
                                                        </option>
                                                        <option value="2" th:text="${#messages.msg('category.2')}">
                                                            История
                                                        </option>
                                                        <option value="3" th:text="${#messages.msg('category.3')}">
                                                            Искусство
                                                        </option>
                                                        <option value="4" th:text="${#messages.msg('category.4')}">
                                                            Производство
                                                        </option>
                                                        <option value="5" th:text="${#messages.msg('category.5')}">
                                                            Гастрономия
                                                        </option>
                                                        <option value="6" th:text="${#messages.msg('category.6')}">
                                                            Квесты
                                                        </option>
                                                        <option value="7" th:text="${#messages.msg('category.7')}">
                                                            Экстрим
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="md-form form-sm">
                                            <input name="usersCount" id="users_count" type="number" class="form-control"
                                                   required="" min="1" max="100"
                                                   th:value="${inputEvent.getUsersCount()}?${inputEvent.getUsersCount()}"/>
                                            <label for="users_count" th:if="${#fields.hasErrors('usersCount')}"
                                                   th:text="${#messages.msg('error.event.users_count')}"
                                                   th:class="'error'">UsersCount
                                                Error</label>
                                            <label for="users_count" class=""
                                                   th:text="${#messages.msg('words.users_count')}">Количество
                                                участников</label>
                                        </div>

                                        <div class="md-form form-sm">
                                            <input name="duration" id="duration" type="number" class="form-control"
                                                   required=""
                                                   th:value="${inputEvent.getDuration()}?${inputEvent.getDuration()}"
                                                   min="1" max="240"/>
                                            <label for="duration" th:if="${#fields.hasErrors('duration')}"
                                                   th:text="${#messages.msg('error.event.duration')}"
                                                   th:class="'error'">Duration
                                                Error</label>
                                            <label for="duration" class=""
                                                   th:text="${#messages.msg('words.duration')+' ('+#messages.msg('words.hours')+')'}">Длительность
                                                (часов)</label>
                                        </div>

                                        <div class="md-form form-sm">
                                            <input name="place" id="place" type="text" class="form-control"
                                                   required="" minlength="5" maxlength="100"
                                                   th:value="${inputEvent.getPlace()}?${inputEvent.getPlace()}"/>
                                            <label for="place" th:if="${#fields.hasErrors('place')}"
                                                   th:text="${#messages.msg('error.event.place')}" th:class="'error'">Place
                                                Error</label>
                                            <label for="place" class="" th:text="${#messages.msg('words.place')}">Место
                                                встречи</label>
                                        </div>

                                        <div class="md-form form-sm">
                                            <input name="price" id="price" type="number" class="form-control"
                                                   required="" min="100" max="100000"
                                                   th:value="${inputEvent.getPrice()}?${inputEvent.getPrice()}"/>
                                            <label for="price" th:if="${#fields.hasErrors('price')}"
                                                   th:text="${#messages.msg('error.event.price')}" th:class="'error'">Price
                                                Error</label>
                                            <label for="price" class=""
                                                   th:text="${#messages.msg('words.price') + '(&#8381;)'}">Цена</label>
                                        </div>

                                        <div class="md-form form-sm">
                                            <input name="file" type="file" id="file" class="form-control" required=""
                                                   size="30000000"
                                                   accept="image/jpeg,image/png" aria-label="Фотографии"/>
                                            <!--<label for="file" th:if="${error_data}" th:text="${#messages.msg('error.event.file')}"
                                                   th:class="'error'">File Error</label>TODO:error_data(file)-->
                                            <label for="file" class="" th:text="${#messages.msg('words.photos')}">Фотографии</label>
                                        </div>

                                        <div class="panel panel-default">
                                            <div class="panel-heading" th:text="${#messages.msg('words.language')}">
                                                Язык экскурсии
                                            </div>
                                            <div class="panel-body">
                                                <div class="input-group">
                                                    <select name="language" class="form-control selectpicker"
                                                            th:selected="${inputEvent.getLanguage()}?${inputEvent.getLanguage()}">
                                                        <option value="0" th:text="${#messages.msg('language.0')}">
                                                            Русский
                                                        </option>
                                                        <option value="1" th:text="${#messages.msg('language.1')}">
                                                            Английский
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <!--Footer-->
                                        <div class="modal-footer justify-content-center">
                                            <button type="button"
                                                    class="btn btn-outline-primary waves-effect waves-light"
                                                    data-dismiss="modal">Закрыть
                                            </button>
                                            <button type="submit" class="btn btn-primary waves-effect waves-light">
                                                Submit <i
                                                    class="fa fa-check ml-1"></i></button>
                                        </div>
                                    </form>

                                </div>

                            </div>
                            <!--/.Content-->

                        </div>
                    </div>
                    <!--Modal: modalSubmitProject-->

                </section>
                <!--Section: Modals-->

            </div>
        </main>
        <!--Main layout-->

        <div class="hiddendiv common"></div>
    </div>
</div>

<footer id="myFooter">
    <div class="container">
        <h7 class="logo"><a href="#">&copy; 2017 Excursium</a></h7>
        <div class="social-icons">
            <a href="https://vk.com/excursium" class="twitter"><i class="fa fa-vk"></i></a>
        </div>
    </div>
</footer>

<script type="text/javascript" src="../resources/js/compiled.min.js"></script>
<script type="text/javascript" src="../resources/libs/popper/popper.js"></script>
<!--Custom scripts-->
<script>
    // SideNav Initialization
    $(".button-collapse").sideNav();

    var container = document.getElementById('slide-out');
    Ps.initialize(container, {
        wheelSpeed: 2,
        wheelPropagation: true,
        minScrollbarLength: 20
    });
</script>
<div class="drag-target"
     style="left: 0px; touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></div>
</body>
</html>